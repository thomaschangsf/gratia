// ----------------------------------------------
// Interview: ML System Design
//		Detect drug solicitation
// ----------------------------------------------



// ----------------------------------------------
// Facebook Notes
// ----------------------------------------------
<--  Heathher's last minute
	--> Your motivations   

	--> Working in an unstructured and fast paced environment  

	--> Communication & growth  

	--> Conflict Resolution & Empathy  

	--> Perseverance   

	--> Project scope & impact on the business  

	--> Mentorship/leadership 



// ----------------------------------------------
// NPD
// ----------------------------------------------
- As one of the founding ICs, help created an end-to-end e-commerce search stack from the ground level up in 4 months on the Google Cloud. Search framework powers features like ecommerce chat bots and guided search.

- Stack:
	* Web search backend:
		Scala + lucene
		search + recall problem

		projects: 
			guided search (todo: link with Amazon)
			visual search (? Grahama or Robinson  ?? )
			item simlarity (? Graham)

	* NRT: Scala
		7000 sustained updates/sec
		replicated across regions
		problem: 



// ----------------------------------------------
// Search
// ----------------------------------------------
- As TL/TLM for search monetization, guided my team of DS, Data Engineers, and QA for the following projects
	* Ad rate guidance
		Recommend an adrate for sellers to optimize their ROI and search ranking. Work with the search ranking team and ad division to bring feature  

		Learning:

		Find document by TA

	* click model
		P(action | content&entities, context, )
		XgBoost model 

		Learning: need to get better with DS

	* cpc and cpa 
		Build a search data pipeline to recommend an cpc for a given search query.


- As TL for Bad Buyer Experience
	* Keywords:	
		Trust

	* Problem/Goal: Reduce search conversions leading to bad buyer experence. BBE = (SNAD + INR + NegFeedbac)/total_transactions.  Promoted listings has significantly higher BBE rate.  The goal was to work with ads and risk division to incorporate signals into search ranking to reduce conversions leading to BBE. Risk team generated BBE scores per item; search previously use BBE scores generated by Trust. The search and ad team are consumers o. Ad team did not use BBE score in their ad ranking.  

	* Act ad search liason to work with Ad and Risk division to reduce bad buyer experience in search ranking. Facilitate knowledge sharing of different stacks, create partnerships of datasets, and create responsibilities.

	* Learning: need to control the stack. gajanan 


- User Representation 


- As TL for river2.0 initiative
	* Keywords
		Multi objective optimization; searchAndRanking, diversification via clustering/taxomony/heuristics --> no slate.
	* The problems:
		Simplifies the customer shopping journey by helping them understand the diverse Ebay inventory with different dynamic layout of search modules.  

		One of those search module is to help them make value tradeoffs against items attributes, such as condition, leafCat, title, and other DF aspects.  Algo needs to be simple, intuitive, and explainable. Module needs to complement the user's natural shopping pattern; it needs to be simle so they can act upon the recommendation. Given a search query, form k-means cluster for item price vs item condition.  Prune clusters that have significantly different (2 standard deviations). For each cluster, 
			- we describe the cluster by its static item aspects, such as leafCatName, cond, and title
			- each cluster can become its own carousel, by forming a query using the static and dynamic aspeccts. This can create recall.
			- try to infer item attributes most correlated to price difference between clusters.  An item aspect is significant for a cluster if it has a higher TF-IDF score.

		The page layout consists of multiple carousels/models/components. Placement of module location depends on the relevance, expected reveneue, engagements, diversity. Explore and exploit of carousel will help balance diversity, with revenue (?)


	* Help define the layout optmization team charter
		Layout optimization is the problem of selecting the type and number of modules on the search page to maximize search efficiency and revenue.  Optimum layout is contextual and takes into various considerations, such as the search query, user history, conversion, engagement. Modules are grouping of entities, which can be ads, cluster items, or tools to help user make value tradeoffs. Key performance indicators include: search efficiency, view efficiency, search engagement, purchase concentration in top N modules. [Doc: Layout Optimization Team Charter]



// ----------------------------------------------
// NLP
// ----------------------------------------------
<-- Message 2 Message 
	--> Problem: Many vertical teams have NLP problems of binary classifications, such as sentiment analysis, insult, etc.  The number of tasks need to be trained, accessed as web services, HDFS at scale, and python CLI.  I was given a sentiment anlysis project, which I used as a base to improve our process

		Customer service
		--> Training
			* Standardized our NLP M2M Classification with common library, and production training workflow. When I was asked to train the sentiment analysis model, we had 2 previous projects which followed the Fasttext classifiation track (PRCI and ?).  We had plans to do 6 more  models on a tight deadline. 3 other researchers.  
			
			* Problem
				(a) Notebook code was not shared; everyone had their own versions. 
				(b) The previous and current tasks training were coded in Jupyter notebooks. If we want to retrain, need to manually execute each code blocks. 
				
			* What I did & Impact
				(a)  Create a common library for training, evaluation, data handling. Created unit tests.  Since everyone share the same code, we have more eyes and more confidence.  Project speed increased dramatically because we were not recreating the wheel

				(b) Converted Jupyter notebooks into production level. Config driven. Standardized library. Common entry point for all workflows. Unit tests. Because of this, we were able to train with one click; better quality 

		--> Model deployment via CLI
			* Problem
				Research model to production was taking over 1 month to deploy as a service. There were a couple of reasons. The researcher and deployment team was disjointed from the deployment team.  The deployment team was disjointed among themselves for different projects. 

			* What I did
				I worked with the deployment team to adop a common helm chart. This abstracts out the need to understand the comlexity of the deployment,  which requires 15+ resources. This also created a common naming schems for the resources.

				I worked with the research team to code a python CLI the glue to connect a single truth yaml.

				I created a python CLI to bridge the research to deployment. CLI takes the research teams single source of truth yaml (which I work to define) and transform to the common helm chart.  

				For documentation and hep ease adoption, I created a jupyter notebook to show how to take a model into service deployment. 


			* Impact: 
				Before: The team was taking between 2-4 weeks to deploy one NLP services; now it was 1 hour. better documentation.
				Improve efficiency by ability to take model to kubernets federated deployments service in a matter of hours.

		--> Increase NLP framework adoption surface area
			* Before, NLP framework comes with NLP web service and python cli.  However, when the data resides on HDFS | datawarehouse, users need to bring data locally to either cluster or local machine.  This is inefficient; we should be bringing code to the data, and not data to code.  I recognized this gap, convinced the PM, and prototyped a solution making the NLP models  available on Pyspark. Furthermore, in pyspark, I was able to leverage the model discovery/loading mechanism of our NLP framework. This means teammebers can load ANY NLP models in pysspark, and use it to infer on a text column. No more manual model management.

			* Impact 
			Increased the impact dramatically of the NLP framework, because it answer new questions, like appling sentiment analysis to see which seller has the most positive or negaive seller feedbacks.

	
<-- NER Ebert Fine Tuning Model	
	LNP: 1000 TPS 
			
	Services

	Common template


<-- PyBay CLI
	NLP Framework to:
		model registration and versioning

		share and explore NLP models 
			in a python CLI

			access via a FastAPI web framework

		deploy as a kubernetes federated deployment

		batch model inferencing in PySpark






// ----------------------------------------------
// Search
// ----------------------------------------------
- TL vs TLM
	* TL:		
		Goal is achileved through the engineering work

		Be technically respected. But also build team's road map and communicate this plan to external teams.

		Communicate to upper management and external teams about plans and progress; become the team's spoke-person

		Get people to follow your lead by knowing more, caring more, and being more determined.  Engineering team follows the TL's direction willingly, and not being forced.

		Project: Search River




	* TLM:
		Goal is achielved through the engineering team. Lead a team of ds, data engineer, and QA.

		Project: Search monetization
			adrate guidance
			
			click prediction model

			CPC vs CPA




// ----------------------------------------------
// Companies
// ----------------------------------------------
<-- Upcoming Technical
	



	- Salesforce
		[Onsite1] Friday 1/14

			8:00-9:00am PST - Dan Gasperut, Software Engineering PMTS(Container/Tools) / Nathan Burke, Data Science Engineer, LMTS
			9:00-9:45am PST - Andy Huey, Director, Software Engineering
			10:00-10:45 am PST - Annie Zhang, Software Engineering PMTS (Principle data Science)
			1:00-1:30pm PST - Jon Belkowitz, Product Management Director

			 https://meet.google.com/ckx-wgpr-jgb
			 core pair link: https://https//hr.gs/e7b7fc7

			 email link: https://mail.google.com/mail/u/0/#inbox/FMfcgzGmtNfsRXsWGFMQWQLbKbPHkBzl

		[Onsite2] Tusday 1/18
			10:30am - 11:15am (PT): Robert Azad, Lead Data Scientist
			11:15am - 12:00pm (PT): Steve Raspudic, Software Engineering Principal Architect, Dsitributed Systems
			12:00pm - 12:45pm (PT): Jacek Becla, Senior Director, Software Engineering; Observability for missions
			BREAK
			1:30pm - 2:15pm (PT): Bo Zong, Software Engineering LMTS
			2:15pm - 3:00pm (PT): Rajesh Ramaraju, Software Engineering PMTS

			email link: https://mail.google.com/mail/u/0/#inbox/FMfcgzGmtNkThTPJdDNFrkvJKqBtBBKg
			https://meet.google.com/mdf-nryc-vjq



		[Mission Statement]
			to empowers companies to connect with their customers in a whole new way

			values: trust, customer success, innovation, equality, integrity, transparency, alignment, and accountability



		[Done]
			Monday, December 20 ⋅ 2:30 – 3:00pm PST with:
				Kexin Xie, Principle Architect, ML Engineering
				https://meet.google.com/rvq-cvkb-ast
				https://mail.google.com/mail/u/0/#inbox/FMfcgzGllVjttqXxXwhCQQWgHclsMPdG


		[Done] Talk with recruiter Monday, Dec 13, @ 11:30 AM. Wait for next step.
		https://salesforce.wd1.myworkdayjobs.com/en-US/External_Career_Site/userHome?source=LinkedIn_Jobs

		Talk with recruiter/manager next week
			sent time suggestion to 
	
	- Google
		[Mission Statement]
			To organize the world’s information and make it universally accessible and useful'

			Values: 
				Focus on the user and all else will follow, 
				Fast is better than slow, 
				Democracy on the web works,
				You can make money without doing evil, 
				There’s always more information out there, and 
				great just isn’t good enough

		[OnSite]
			https://mail.google.com/mail/u/0/#inbox/FMfcgzGllVtKKxGGgVmMlRLNShBxwlKq

			Tu, Jan 11
				Google Meet Link: https://meet.google.com/jjj-pwqc-ovu

				1st Interview: 10:00am - 11:00am [Machine Learning]
					https://docs.google.com/document/d/1gVdSYQgyRogw34Q_uTeo4vypTXrPCB6Z2qkKC9TL8Qg/edit?usp=drivesdk&resourcekey=0-byl2cQDOb4iov9QGXjBTUg

				2nd Interview: 11:15am - 12:00pm [Leadership - see snippet-behavior]
					https://docs.google.com/document/d/1249gOEFKcX-s0McwHrqZjxHcIGW7F8Z9C2sKwDhp7B4/edit?usp=drivesdk&resourcekey=0-ZlfEZdHmFqgSB8a4E8RJBQ

				3rd Interview: 1:30pm - 2:30pm [Machine Learning]
					https://docs.google.com/document/d/1ippzaNixMBtBQRZQAm9RgiS1SICPT6EEgifZChpFjCo/edit?usp=drivesdk


			Wed, Jan 12 
				https://meet.google.com/mjh-waxb-yut

				4th Interview: 1:30PM - 2:15 PM  [CODING]
					https://interview.google.com/virtual/91faa38c-de38-435f-bf08-2b9cf2a421e6


				5th Interview: 2:30 - 3:30 PM [Machine Learning]
					https://docs.google.com/document/d/1Tpzv4-ZpF65C-eu0f10stqXqeCjzwht6uLRmJWGMAjg/edit?usp=drivesdk&resourcekey=0-ESLYBT1vEPMzMzESeF7NRA


		Threads
			* Trina Mabunay
				https://mail.google.com/mail/u/0/#inbox/FMfcgzGllVrzgQNkdFktmbTMPFbXfhpr

			*Kendall chain
				https://mail.google.com/mail/u/0/#inbox/FMfcgzGllVrzgQNshrPjJcsRMQXjPrxB


		[Done] 
			Wed 9AM with Kendall Koka; she will call

			Prep call: scheduling
				Or break

			5 rounds
				45 minute
				google meet and google doc; no compilers

			tehcnical: coding
			
			system design: ML focused

			2 domain: 
				ranking: 
				reccmendation

			1 non-technical
				google ness: behavorial
					user or consumer first
					outside of box thinking
					put other first

			Champion call: 
				ML sw engineer; perspective

			Changed: 3-4 weeks to get offer after interview
				recruiter get fb 1 week after onsite
				know next step in 1-2 week
				team matching: applicable manager
				compensation: 
				offer: VP stamp of approval


		[Preparation]
			References


			https://anthonydmays.com/blog/2017/01/10/prepare-google-interview-1-month-left/

			https://www.quora.com/How-should-I-prepare-for-my-Google-interview-if-I-have-1-month-left-and-I%E2%80%99m-applying-for-a-software-engineer-role

			https://www.youtube.com/watch?v=ko-KkSmp-Lk
				what they're looking for
				 	DS: hash, stacks, arrays
				 	space + time complexity
				 	efficient code in short time
				 	design: high level systems, before digging into deeper issues
				 	analysis: understand all aspects of questions, multiple solutions withs its pros and cons
				 preparation
				 	coding: apis + orieated, + how to test + edge cases
				 	algorithm: how complex, time + space, how to improve to 
				 	DS: 
				 		NP complete: 
				 		kansack
				 		treees, tree traversal
				 		linked list
				 	recursion: 
				 OS: process, threads, semaphores, locks, resource allocation, context switching, schedluing
				 systems design: features sets, distributed systems, internet works: router, nameservers, LB, firewalls

			Tips
				Explain and clarify: interviewer wants to hear whare youare thinking about
				Clarify vagueness; q ares intentionally vague
					are there any time and space engagement
				Keep thinking: fist solution may not be the most efficient
				Practice: no editor; write code

			What is Googleyness
				https://www.youtube.com/watch?v=TWFs3dxfiOc
				Motto: "Do the right thing": positivity, teamp layer, transparent respectful, value yourself and others, humble, trustful, integrity, have fun

				Answers that shows those attributes



		[Done] Talk with recruiter 12-15 @ 3PM
			Google Ads
				startup --> establishment
				poduct ownersihp
				heavery ML 
			Google Search
				Search assitance, ranking, image search
				small to large
				3 billion indxes, AI and ML
			Youtube
				premium, music, kids
				startup, San Bruno
				technical challenges: global uses
					ML techniques for NLP and videos
					frameworks, child abuse

			Adam Phopal
				early next 1-2 week (Mon/Tu)
				 mid January (4 technicals)
					DS and algorithm: heavy
				let you know 
	

	- Pinterest
		[Next] 1-6, Th 12-12:30 talk with recruiter

	- Grammarly
		Current product
			tone:

			egnagement: 	
				how many unique words

			conciseness:

			correctness:



		38 million active users
			
		Future project
			multimodalities: 

			multiple languages

			B-B: Grammalrly business
				40k companies:
					Twitter: inclusive writing
					Slack: tonality


		Tech Screen
			Logisitc; 
			how to train word embeddings

			Test case complete


	- Newsela
		Subash Gutala - Senior Director
		Meng Zhao - Principal SW
		Angelica Pando
		John Rutledge
		Chris Immel



	- LinkedIn
		[Next]
			Coding: Algos: DS
				tree traversal, list operations
			System Design
				Design a load balancer

		[Next] TODO: Send recruiter some dates
			Jan 6, 9AM-5PM
			Jan 7, 9AM-5PM
			Jan 11, 9AM-5PM
			Jan 12, 9AM-5PM

		[DONE] Monday, Dec-13, 3PM, talk with recruiter
			Virtual onsite

			can break interviews over 2 days
				1 days --> 2 days of availability
				2 days --> 4 days of availability

			shutdown from Dec 27th to 31st
				Dec 20, 21, 22	

			year break between system/integration
				if there are exceptions if different 

			Hybrid options
				meetings
				HQ @ Sunnyvale 



		[Done] Talk to recruiter on next step
			Staff
			Search infra
			ML infra

			Ryan Virtual 
				Friday after 3PM
				Monday after 3PM

			5.5 hours total
				hiring manager
					projects/invovlement
					thinking and how you lead

				coding & algorithm

				infra strucutre imprlement
					ds 
					complex system & complex distributed system


				shut down Dec 27th
					following week
				Jan 

		[Done] 1st round interview
			Dec 7, Tu, 10-11AM
			
			https://linkedin.zoom.us/j/97202738317?pwd=bGp0aWJkZGJ1SU1FNkJxRmZ2MmdOUT09
				Meeting ID: 972 0273 8317
				Password: 773307
			 
			CoderPad Link: https://coderpad.io/DDP2FT36

			https://mail.google.com/mail/u/0/#search/linkedin+interview/FMfcgzGllMFZftbKxmVFkWbLxTwvJgSB

			 
			1 hour technical: 
				CS fundametnas; algorithms
					process vs threads
					virtual memory
					cpu vs gpu

			Virtual onsite
				manager
				2 hours coding of algorithms
				3 hours; infra stuructre, complex systems

				how you verbalize, tradeoffs


	

	
	
<-- Done



<-- Exploration
	- Pinterest
	- TikTok
		https://www.linkedin.com/messaging/thread/2-ODM0MDg2M2ItMzA2Mi00M2Q2LTg4MmEtNTg5NWExMDcyZDViXzAxMA==/
	
	- Roblox
	- Twitter
	- Airbnb
	- Microsoft
	- Zoom
	- Square/Snap: Busy


	


	- FB 	
		[OnSite]
			Inteview1: Sep 27, Mon 11AM-12:30PM
				Coding (2)

			Interview2: Sep 29, Wed 9:45 - 12:45PM
				behavorial -> system design -> ml design

			Email: https://mail.google.com/mail/u/0/#inbox/FMfcgzGljvJjqxRDHFrCjNLXGlRlvqzh

			https://www.facebookrecruiting.com/portal/home

			Practice boarding
				whiteboard.facebookrecruiting.com

		
	
	- Twitter
		Wed, Sep 15, 11AM, talk with manager (recommendation)
			SF
				 2 teams: 40-50 
				 	Starting from April

				 twiiter and account search
				 	full stack: 
				 		query and twiter undrstanding
				 		ranking

				 expereince with search, NLP


			https://mail.google.com/mail/u/0/#search/Twitter+Tian/FMfcgzGljlmKLGHqBSvMsvwZVVHDvWhN

			dig into my projects, how it matches with his
			how I approach problems

			Search: Tian
				entities:	
					queries
					tweets: 1 trillion
					users
			Culture
				alignment and company goals --> teams have local translation and how to measure 
					Daily active users: enggagment, actions in search
					Engineer have lots of autonmony

				cross team coloobration: extremely open

				manager cares about the people; hiring is difficult

				customer orientated - lots of customer closeness

				team --> plan
					periodical: 
					PM: process and go over and gave priority --> estimate . Project clarify the problem and measurements. Interact is your cross functional partner

			Teams are vertical
				external help:  CoreTex

			Internal Infra
				DeepBert (4x) --> TF and Google Cloud

			Twiiter search
				retrieval: index, auto (5)
				ranking: modleing for ranking, for engagment, for health, how to combine, multiple objectives (5)


			Account and user search: (4) --> 7-10
				--> less mature from ML
				--> discovery and exploration
				ranking: 

				60-70% ML 
					Data science: data anlaytics
					ML model scientists: 

				ML Engineer: integrate 

			Phone screen

			On site ()
				2 techincal
					ml system design
					ml fundamental 
				collobration and communication and p
				top grade - employmet history
					learning
		Emily Day 

		Recruter non-twiter Emily Liu, told her I am interested





	- Uber
		[Next] July 21, 1PM with recruiter

		Recruiter Georon Rawlings reached out to me; need to respond

	
	- Cruise
		Recruiter Jacob Berry
		https://mail.google.com/mail/u/0/#inbox/FMfcgzGkZZjfBjltwCSZRBpnxptDzbzq



	- Coupang | 		
		July 16, 11-12
			https://hr.gs/f70feb1
		Conner Donaldson for Ad (Team1)

		Huanhuan He (Team2)

	
	- Zoom
		In the process of setting up talk with hiring manager for MT position.


	- LinkedIn
		Reach out to Steven Rambajan on linkedin 

		Sent a list of dates I am avaialble; waiting fo confirmation



	- WayFair	
		Aug 30, 3:30PM Karat
		Interview with Bryan
		https://wayfair.karat.io/interview/link/0dd4e2ce7a9c3befa9c42c607834bec9f8b8901b99569e6cccd0614903711141

	



